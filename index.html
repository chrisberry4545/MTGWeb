<!DOCTYPE html>
<html data-ng-app="app"> <!--manifest="manifest.appcache"-->
<head>
    <style>
        /* This helps the ng-show/ng-hide animations start at the right place. */
        /* Since Angular has this but needs to load, this gives us the class early. */
        .ng-hide {
            display: none !important;
        }
    </style>
    <title>MTG Mirror - Battle for Zendikar Draft and Sealed Simulator</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no" />
    <meta name="description" content="MTG Draft Simulator">
    <meta name="keywords" content="MTG, Magic the gathering, BFZ, Battle for Zendikar, draft, booster, simulator, mtgmirror, mirror">
    <meta name="author" content="Chris Berry">

    <script>
        // Must be first. IE10 mobile viewport fix
        if ("-ms-user-select" in document.documentElement.style && navigator.userAgent.match(/IEMobile\/10\.0/)) {
            var msViewportStyle = document.createElement("style");
            var mq = "@-ms-viewport{width:auto!important}";
            msViewportStyle.appendChild(document.createTextNode(mq));
            document.getElementsByTagName("head")[0].appendChild(msViewportStyle);
        }
    </script>


    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-47296152-1']);
        _gaq.push(['_setDomainName', 'mtgmirror.com']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

        function trackPageView(page, eventName, label) {
            trackAction('_trackPageview', page, eventName, label);
        }
        function trackEvent(page, eventName, label) {
            trackAction('_trackEvent', page, eventName, label);
        }
        function trackAction(actionType, page, eventName, label) {
            _gaq.push([actionType, page, eventName, label])
        }
    </script>


    <link rel="icon" type="image/png" href="/mtgmirrorfavicon.png">
    <link href="content/ie10mobile.min.css" rel="stylesheet" />
    <link href="content/bootstrap.min.css" rel="stylesheet" />
    <!--<link href="Content/bootstrap-theme.min.css" rel="stylesheet" />-->
    <link href="content/font-awesome.min.css" rel="stylesheet" />
    <link href="content/toastr.min.css" rel="stylesheet" />
    <!--<link href="content/customtheme.min.css" rel="stylesheet">-->
    <!--<link href="content/bootstrap-responsive.min.css" rel="stylesheet" />-->
    <link href="content/styles.min.css" rel="stylesheet" />
    <link href="Content/chrisstylesheet.css" rel="stylesheet" />
</head>
<body>
    <div>
        <div data-ng-include="'/app/layout/shell.html'"></div>
        <div id="splash-page" data-ng-show="false">
            <div class="page-splash">
                <div class="page-splash-message">
                    MTG Mirror - Battle for Zendikar Draft and Sealed Simulator
                </div>
                <div class="progress progress-striped active page-progress-bar">
                    <div class="bar"></div>
                </div>
            </div>
        </div>
    </div>

    <span data-cc-scroll-to-top></span>

    <!-- Vendor Scripts -->
    <script src="scripts/jquery-2.0.3.min.js"></script>
    <script src="scripts/angular.min.js"></script>
    <script src="scripts/angular-animate.min.js"></script>
    <script src="scripts/angular-route.min.js"></script>
    <script src="scripts/angular-sanitize.min.js"></script>
    <script src="scripts/bootstrap.min.js"></script>
    <script src="scripts/toastr.min.js"></script>
    <script src="scripts/moment.min.js"></script>
    <script src="scripts/ui-bootstrap-tpls-0.6.0.min.js"></script>
    <script src="scripts/spin.min.js"></script>
    <script src="Scripts/FileSaver.min.js"></script>
    <script src="Scripts/Chart.min.js"></script>

    <!-- Bootstrapping -->
    <script src="app/app.min.js"></script>
    <script src="app/config.min.js"></script>
    <script src="app/config.exceptionHandler.min.js"></script>
    <script src="app/config.route.min.js"></script>

    <!-- common Modules -->
    <script src="app/common/common.min.js"></script>
    <script src="app/common/logger.min.js"></script>
    <script src="app/common/spinner.min.js"></script>

    <!-- common.bootstrap Modules -->
    <script src="app/common/bootstrap/bootstrap.dialog.min.js"></script>

    <!-- app -->
    <script src="app/admin/admin.min.js"></script>
    <script src="app/dashboard/dashboard.min.js"></script>
    <script src="app/layout/shell.min.js"></script>
    <script src="app/layout/sidebar.min.js"></script>

    <!-- app Services -->
    <script src="app/services/datacontext.min.js"></script>
    <script src="app/services/directives.min.js"></script>
    <script src="app/services/webapicontext.min.js"></script>
    <script src="app/services/localStorageService.min.js"></script>
    <script src="app/services/downloadDataService.min.js"></script>
    <script src="app/services/graphAnalysis.js"></script>
    <script src="app/services/deckFunctions.min.js"></script>
    <script src="app/services/handsimulator.min.js"></script>

    <!-- Directives -->
    <script src="app/directives/cardDisplay.js"></script>
    <script src="app/directives/setSelection.js"></script>
    <script src="app/directives/handSimulator.js"></script>

    <!-- My modules -->
    <script src="app/services/landcards.min.js"></script>
    <script src="app/boostersim/boostersim.min.js"></script>
    <script src="app/browsecards/browsecards.min.js"></script>
    <script src="app/sealedsim/sealedsim.min.js"></script>
    <script src="app/draftsim/draftsim.min.js"></script>
    <script src="app/draftsim/ai.min.js"></script>
    <script src="app/about/about.min.js"></script>
    <script src="app/carddisplay/carddisplay.min.js"></script>
    <script src="app/multiplayerdraft/multiplayerdraft.min.js"></script>
    <script src="app/carddata/CardsBFZ.min.js"></script>
    <script src="app/carddata/CardsExpeditionsBFZ.min.js"></script>
    <script src="app/carddata/CardsBNG.min.js"></script>
    <script src="app/carddata/CardsTHS.min.js"></script>
    <script src="app/carddata/CardsJOU.min.js"></script>
    <script src="app/carddata/CardsM15.min.js"></script>
    <script src="app/carddata/CardsKTK.min.js"></script>
    <script src="app/carddata/CardsFRF.min.js"></script>
    <script src="app/carddata/CardsDTK.min.js"></script>
    <script src="app/carddata/CardsMM2.min.js"></script>
    <script src="app/carddata/CardsORI.min.js"></script>
    <script src="app/highpickreport/highpickreport.js"></script>

    <div style="display:none; background-color:darkorange" id="updateAppMessage" class="textcenter">
        <div id="downloadComplete" style="display:none;">
            A new version of the app is avaliable. <br />
            <em>Refresh to start using it!</em>
        </div>
        <div id="downloadInProgress">
            <span>Downloading a new version of the app.</span><br />
            <span>This will probably take around a minute.</span>
        </div>
    </div>

    <script>

        function refreshApp() {
            location.reload();
        }

        $(window.applicationCache).bind(
            "downloading",
            function (downloadEvent) {

                var updateAppMessage = $('#updateAppMessage');
                updateAppMessage.show();

                function readyEvent(ev) {
                    updateAppMessage.css({'background-color': 'green'});
                    $('#downloadInProgress').hide();
                    $('#downloadComplete').show();
                    updateAppMessage.click(refreshApp);
                }

                $(window.applicationCache).bind(
                    "cached",
                    function (event) {
                        readyEvent(event);
                    }
                );

                $(window.applicationCache).bind(
                    "updateready",
                    function (event) {
                        readyEvent(event);
                    }
                );

            });

    </script>
</body>
</html>
