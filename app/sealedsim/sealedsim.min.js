(function(){"use strict";function t(t,i,r,u,f){function c(n,t,i){var r=n.indexOf(i);r>-1&&n.splice(r,1);t.push(i)}function y(){return e.boosters_to_open_core==null||e.boosters_to_open_ths==null||e.boosters_to_open_bng==null||e.boosters_to_open_jou==null||e.boosters_to_open_ktk==null?(h("Please use a number for the amount of boosters."),!1):!0}function p(){t.activateController([],n).then(function(){e.landcards=f.getLandCards()})}var l=t.logger.getLogFn,a=l(n),v=t.logger.getLogFn(n,"success"),h=t.logger.getLogFn(n,"error"),o=200,s=200,e=this;e.title="Sealed Simulator";e.boosters_to_open_ktk=6;e.boosters_to_open_core=0;e.boosters_to_open_jou=0;e.boosters_to_open_bng=0;e.boosters_to_open_ths=0;e.landcards=[];e.selectedLandCards=[];e.showOldSets=!1;e.includeOlderSets=function(){e.showOldSets=e.showOldSets?!1:!0};e.include_seeded_boosters="W";e.include_seeded_boosters_options=[{key:"W",value:"Abzan Houses"},{key:"U",value:"Jeskai Way"},{key:"B",value:"Sultai Brood"},{key:"R",value:"Mardu Horde"},{key:"G",value:"Temur Frontier"},{key:"0",value:"Don't use Seeded"}];e.boosterCards=[];e.selectedCards=[];e.saveSelection=function(){r.saveCardsList(e.selectedCards.concat(e.selectedLandCards),"sealedselection")};e.saveCardsInBooster=function(){r.saveCardsList(e.boosterCards,"cardsRemainingInPool")};e.saveCompletePool=function(){r.saveCardsList(e.selectedCards.concat(e.boosterCards),"sealedPool")};e.addLandCard=function(n){e.selectedLandCards.push(n)};e.removeLandCard=function(n){var t=e.selectedLandCards.indexOf(n);t>-1&&e.selectedLandCards.splice(t,1)};e.addToDeck=function(n){v("Added "+n.Name+" to your selection...");c(e.boosterCards,e.selectedCards,n);u.displayChartsForCards(e.selectedCards)};e.removeFromDeck=function(n){a("Put "+n.Name+" back into sealed pool...");c(e.selectedCards,e.boosterCards,n);u.displayChartsForCards(e.selectedCards)};e.openBoosters=function(){if(!y())return!1;if(e.include_seeded_boosters!="0"){if(e.boosters_to_open_ktk>0)return i.openMixtureOfSeededBoosters(parseInt(e.boosters_to_open_ths),parseInt(e.boosters_to_open_bng),parseInt(e.boosters_to_open_jou),parseInt(e.boosters_to_open_core),parseInt(e.boosters_to_open_ktk),e.include_seeded_boosters).then(function(n){return e.boosterCards=[],e.selectedCards=[],e.boosterCards.push.apply(e.boosterCards,n.mythicCards),e.boosterCards.push.apply(e.boosterCards,n.rareCards),e.boosterCards.push.apply(e.boosterCards,n.uncommonCards),e.boosterCards.push.apply(e.boosterCards,n.commonCards),u.resetAllCanvas(),u.setPieChartGraphElement("colorPieChartContainer-cardPool",o,s),u.setBarChartGraphElement("manaCurveBarChartContainer-cardPool",o,s),u.setTypeChartHolder("typePieChartContainer-cardPool",o,s),u.displayChartsForCards(e.boosterCards),u.setPieChartGraphElement("colorPieChartContainer-selectedCards",o,s),u.setBarChartGraphElement("manaCurveBarChartContainer-selectedCards",o,s),u.setTypeChartHolder("typePieChartContainer-selectedCards",o,s),e.boosterCards});h("You must include at least one booster of the latest set to include a seeded booster.")}else return i.openMixtureOfSortedBoosters(parseInt(e.boosters_to_open_ths),parseInt(e.boosters_to_open_bng),parseInt(e.boosters_to_open_jou),parseInt(e.boosters_to_open_core),parseInt(e.boosters_to_open_ktk)).then(function(n){return e.boosterCards=[],e.selectedCards=[],e.boosterCards.push.apply(e.boosterCards,n.mythicCards),e.boosterCards.push.apply(e.boosterCards,n.rareCards),e.boosterCards.push.apply(e.boosterCards,n.uncommonCards),e.boosterCards.push.apply(e.boosterCards,n.commonCards),u.setPieChartGraphElement("colorPieChartContainer-cardPool",o,s),u.setBarChartGraphElement("manaCurveBarChartContainer-cardPool",o,s),u.setTypeChartHolder("typePieChartContainer-cardPool",o,s),u.displayChartsForCards(e.boosterCards),u.setPieChartGraphElement("colorPieChartContainer-selectedCards",o,s),u.setBarChartGraphElement("manaCurveBarChartContainer-selectedCards",o,s),u.setTypeChartHolder("typePieChartContainer-selectedCards",o,s),e.boosterCards})};p()}var n="sealedsim";angular.module("app").controller(n,["common","datacontext","downloadDataService","graphAnalysis","landcards",t])})();
/*
//# sourceMappingURL=sealedsim.min.js.map
*/