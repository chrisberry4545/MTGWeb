(function(){"use strict";function t(t,i,r,u){function c(){i.getCardSetGroups().then(function(n){n[0][0].boostersToOpen=6;f.setGroups=n})}function e(n,t,i){var r=n.indexOf(i);r>-1&&n.splice(r,1);t.push(i)}function l(){t.activateController([c()],n).then(function(){f.landcards=u.getLandCards();trackEvent(n,"init")})}var o=t.logger.getLogFn,s=o(n),h=t.logger.getLogFn(n,"success"),a=t.logger.getLogFn(n,"error"),f=this;f.title="Sealed Simulator";f.controllerId=n;f.landcards=[];f.selectedLandCards=[];f.showExtraOptions=!1;f.displayExtraOptions=function(){f.showExtraOptions?(f.showExtraOptions=!1,trackEvent(n,"hide-extra-options")):(f.showExtraOptions=!0,trackEvent(n,"show-extra-options"))};f.setGroups=[];f.chartsHidden=!1;f.hideCharts=function(){f.chartsHidden=!f.chartsHidden};f.include_promo="1";f.promo_options=[{value:1,text:"Include Promo"},{value:0,text:"Don't include Promo"}];f.boosterCards=[];f.selectedCards=[];f.saveSelection=function(){r.saveCardsList(f.selectedCards.concat(f.selectedLandCards),"sealedselection");trackEvent(n,"save-selected-cards")};f.saveCardsInBooster=function(){r.saveCardsList(f.boosterCards,"cardsRemainingInPool");trackEvent(n,"save-booster-cards")};f.saveCompletePool=function(){r.saveCardsList(f.selectedCards.concat(f.boosterCards),"sealedPool");trackEvent(n,"save-complete-pool")};f.addLandCard=function(t){f.selectedLandCards.push(t);trackEvent(n,"add-land-card",t.Name)};f.removeLandCard=function(t){var i=f.selectedLandCards.indexOf(t);i>-1&&(f.selectedLandCards.splice(i,1),trackEvent(n,"remove-land-card",t.Name))};f.addToDeck=function(t){h("Added "+t.Name+" to your selection...");e(f.boosterCards,f.selectedCards,t);trackEvent(n,"add-to-deck",t.Name)};f.removeFromDeck=function(t){s("Put "+t.Name+" back into sealed pool...");e(f.selectedCards,f.boosterCards,t);trackEvent(n,"remove-from-deck",t.Name)};f.clearSelection=function(){var t=confirm("Are you sure you want to clear your selection?"),n;if(t){for(n=0;n<f.selectedCards.length;n++)f.boosterCards.push(f.selectedCards[n]);f.selectedCards=[];f.selectedLandCards=[]}};f.openBoosters=function(){f.boosterCards=[];f.selectedCards=[];f.selectedLandCards=[];var t=i.openBoostersForCardSetGroups(f.setGroups);f.boosterCards.push.apply(f.boosterCards,t.mythicCards);f.boosterCards.push.apply(f.boosterCards,t.rareCards);f.boosterCards.push.apply(f.boosterCards,t.uncommonCards);f.boosterCards.push.apply(f.boosterCards,t.commonCards);f.include_promo=="1"?(i.addPromoForLatestSet(f.boosterCards),trackEvent(n,"include-promo")):trackEvent(n,"exclude-promo");return};l()}var n="sealedsim";angular.module("app").controller(n,["common","datacontext","downloadDataService","landcards","$modal","$scope",t])})();
//# sourceMappingURL=sealedsim.min.js.map
