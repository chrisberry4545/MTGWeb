(function(){"use strict";function t(t,i,r,u,f){function y(){i.getCardSetGroups().then(function(n){n[0][0].boostersToOpen=6;e.setGroups=n})}function c(n,t,i){var r=n.indexOf(i);r>-1&&n.splice(r,1);t.push(i)}function h(){u.resetAllCanvas();u.setPieChartGraphElement("colorPieChartContainer-cardPool",o,s);u.setBarChartGraphElement("manaCurveBarChartContainer-cardPool",o,s);u.setTypeChartHolder("typePieChartContainer-cardPool",o,s);u.displayChartsForCards(e.boosterCards);u.setPieChartGraphElement("colorPieChartContainer-selectedCards",o,s);u.setBarChartGraphElement("manaCurveBarChartContainer-selectedCards",o,s);u.setTypeChartHolder("typePieChartContainer-selectedCards",o,s);u.displayChartsForCards(e.selectedCards)}function p(){t.activateController([y()],n).then(function(){e.landcards=f.getLandCards();h();trackEvent(n,"init")})}var l=t.logger.getLogFn,a=l(n),v=t.logger.getLogFn(n,"success"),w=t.logger.getLogFn(n,"error"),o=200,s=200,e=this;e.title="Sealed Simulator";e.controllerId=n;e.landcards=[];e.selectedLandCards=[];e.showExtraOptions=!1;e.displayExtraOptions=function(){e.showExtraOptions?(e.showExtraOptions=!1,trackEvent(n,"hide-extra-options")):(e.showExtraOptions=!0,trackEvent(n,"show-extra-options"))};e.setGroups=[];e.chartsHidden=!1;e.hideCharts=function(){e.chartsHidden=!e.chartsHidden};e.include_promo="1";e.promo_options=[{value:1,text:"Include Promo"},{value:0,text:"Don't include Promo"}];e.boosterCards=[];e.selectedCards=[];e.saveSelection=function(){r.saveCardsList(e.selectedCards.concat(e.selectedLandCards),"sealedselection");trackEvent(n,"save-selected-cards")};e.saveCardsInBooster=function(){r.saveCardsList(e.boosterCards,"cardsRemainingInPool");trackEvent(n,"save-booster-cards")};e.saveCompletePool=function(){r.saveCardsList(e.selectedCards.concat(e.boosterCards),"sealedPool");trackEvent(n,"save-complete-pool")};e.addLandCard=function(t){e.selectedLandCards.push(t);trackEvent(n,"add-land-card",t.Name)};e.removeLandCard=function(t){var i=e.selectedLandCards.indexOf(t);i>-1&&(e.selectedLandCards.splice(i,1),trackEvent(n,"remove-land-card",t.Name))};e.addToDeck=function(t){v("Added "+t.Name+" to your selection...");c(e.boosterCards,e.selectedCards,t);h();trackEvent(n,"add-to-deck",t.Name)};e.removeFromDeck=function(t){a("Put "+t.Name+" back into sealed pool...");c(e.selectedCards,e.boosterCards,t);h();trackEvent(n,"remove-from-deck",t.Name)};e.clearSelection=function(){var t=confirm("Are you sure you want to clear your selection?"),n;if(t){for(n=0;n<e.selectedCards.length;n++)e.boosterCards.push(e.selectedCards[n]);e.selectedCards=[];e.selectedLandCards=[]}};e.openBoosters=function(){e.boosterCards=[];e.selectedCards=[];e.selectedLandCards=[];var t=i.openBoostersForCardSetGroups(e.setGroups);e.boosterCards.push.apply(e.boosterCards,t.mythicCards);e.boosterCards.push.apply(e.boosterCards,t.rareCards);e.boosterCards.push.apply(e.boosterCards,t.uncommonCards);e.boosterCards.push.apply(e.boosterCards,t.commonCards);e.include_promo=="1"?(i.addPromoForLatestSet(e.boosterCards),trackEvent(n,"include-promo")):trackEvent(n,"exclude-promo");return};p()}var n="sealedsim";angular.module("app").controller(n,["common","datacontext","downloadDataService","graphAnalysis","landcards","$modal","$scope",t])})();
//# sourceMappingURL=sealedsim.min.js.map
