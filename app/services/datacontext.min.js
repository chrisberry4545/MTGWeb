(function(){"use strict";function n(n,t){function g(n){c=n}function nt(){return c}function tt(n){return r.when(h(n))}function it(n,t,u,f,e,o,h,c){var v=l(n,t,u,f,e,o,h),y=s(),a=lt(1,y,c);return a.rareCards.sort(i),a.uncommonCards.sort(i),a.commonCards.sort(i),a.mythicCards.push.apply(a.mythicCards,v.mythicCards),a.rareCards.push.apply(a.rareCards,v.rareCards),a.uncommonCards.push.apply(a.uncommonCards,v.uncommonCards),a.commonCards.push.apply(a.commonCards,v.commonCards),r.when(a)}function rt(n,t,i,u,f,e,o){var s=l(n,t,i,u,f,e,o);return r.when(s)}function l(n,t,r,u,f,e,o){var s=h(t),c,l,a,v,y,p;return s.mythicCards.sort(i),s.rareCards.sort(i),s.uncommonCards.sort(i),s.commonCards.sort(i),c=et(n),c.mythicCards.sort(i),c.rareCards.sort(i),c.uncommonCards.sort(i),c.commonCards.sort(i),l=ft(r),l.mythicCards.sort(i),l.rareCards.sort(i),l.uncommonCards.sort(i),l.commonCards.sort(i),a=ot(u),a.mythicCards.sort(i),a.rareCards.sort(i),a.uncommonCards.sort(i),a.commonCards.sort(i),v=st(f),v.mythicCards.sort(i),v.rareCards.sort(i),v.uncommonCards.sort(i),v.commonCards.sort(i),y=ht(e),y.mythicCards.sort(i),y.rareCards.sort(i),y.uncommonCards.sort(i),y.commonCards.sort(i),p=ct(o),p.mythicCards.sort(i),p.rareCards.sort(i),p.uncommonCards.sort(i),p.commonCards.sort(i),s.mythicCards.push.apply(s.mythicCards,c.mythicCards),s.rareCards.push.apply(s.rareCards,c.rareCards),s.uncommonCards.push.apply(s.uncommonCards,c.uncommonCards),s.commonCards.push.apply(s.commonCards,c.commonCards),s.mythicCards.push.apply(s.mythicCards,l.mythicCards),s.rareCards.push.apply(s.rareCards,l.rareCards),s.uncommonCards.push.apply(s.uncommonCards,l.uncommonCards),s.commonCards.push.apply(s.commonCards,l.commonCards),s.mythicCards.push.apply(s.mythicCards,a.mythicCards),s.rareCards.push.apply(s.rareCards,a.rareCards),s.uncommonCards.push.apply(s.uncommonCards,a.uncommonCards),s.commonCards.push.apply(s.commonCards,a.commonCards),s.mythicCards.push.apply(s.mythicCards,v.mythicCards),s.rareCards.push.apply(s.rareCards,v.rareCards),s.uncommonCards.push.apply(s.uncommonCards,v.uncommonCards),s.commonCards.push.apply(s.commonCards,v.commonCards),s.mythicCards.push.apply(s.mythicCards,y.mythicCards),s.rareCards.push.apply(s.rareCards,y.rareCards),s.uncommonCards.push.apply(s.uncommonCards,y.uncommonCards),s.commonCards.push.apply(s.commonCards,y.commonCards),s}function ut(n){var t=h(n);return t.mythicCards.sort(i),t.rareCards.sort(i),t.uncommonCards.sort(i),t.commonCards.sort(i),r.when(t)}function i(n,t){return n.Number<t.Number?-1:n.Number>t.Number?1:0}function ft(n){var t=b();return f(n,t)}function et(n){var t=p();return f(n,t)}function ot(n){var t=y();return f(n,t)}function st(n){var t=s();return f(n,t)}function ht(n){for(var r,s,h=v(),i=f(n,h),u=0;u<n;u++)if(Math.random()<1/3)if(Math.random()<1/72){var e=[229,232,238,247,248],c=Math.round(Math.random()*(e.length-1)),l=KTK[e[c]];i.rareCards.push(l)}else{var o=[228,230,231,234,239,241,242,243,245,246],a=Math.round(Math.random()*(o.length-1)),y=KTK[o[a]];i.commonCards.push(y)}else r=t.getLandCards(),s=Math.round(Math.random()*(r.length-1)),i.commonCards.push(r[s]);return i}function ct(n){var t=a();return f(n,t)}function f(n,t){for(var r,i=new u,f=0;f<n;f++)r=at(t,i),i.mythicCards.push.apply(i.mythicCards,r.mythicCards),i.rareCards.push.apply(i.rareCards,r.rareCards),i.uncommonCards.push.apply(i.uncommonCards,r.uncommonCards),i.commonCards.push.apply(i.commonCards,r.commonCards);return i}function lt(n,t,i){for(var f,r=new u,e=0;e<n;e++)f=pt(t,r,i),r.mythicCards.push.apply(r.mythicCards,f.mythicCards),r.rareCards.push.apply(r.rareCards,f.rareCards),r.uncommonCards.push.apply(r.uncommonCards,f.uncommonCards),r.commonCards.push.apply(r.commonCards,f.commonCards);return r}function h(n){var t=w();return f(n,t)}function at(n){var r=new u,h=!0,o,s,f,e,i,t;for(Math.random()>1/8&&(h=!1),o=10,s=3,f=0;f<o;f++)i=Math.round(Math.random()*(n.commonCards.length-1)),t=n.commonCards[i],t!=null&&(e=!1,$.each(r.commonCards,function(n,i){i.Number==t.Number&&(e=!0)}),e&&n.commonCards.length>o?f--:r.commonCards.push(t));for(f=0;f<s;f++)i=Math.round(Math.random()*(n.uncommonCards.length-1)),t=n.uncommonCards[i],t!=null&&(e=!1,$.each(r.uncommonCards,function(n,i){i.Number==t.Number&&(e=!0)}),e?s++:r.uncommonCards.push(t));return h?(i=Math.round(Math.random()*(n.mythicCards.length-1)),t=n.mythicCards[i],r.mythicCards.push(t)):(i=Math.round(Math.random()*(n.rareCards.length-1)),t=n.rareCards[i],r.rareCards.push(t)),r}function vt(n){var t,i;if(Math.random()>7/8)switch(n){case"W":return FRF[142];case"U":return FRF[26];case"B":return FRF[55];case"R":return FRF[63];case"G":return FRF[112]}else{switch(n){case"W":t=[8,9,11,151];break;case"U":t=[43,50,52,156];break;case"B":t=[62,79,87,157];break;case"R":t=[90,99,110,155];break;case"G":t=[131,142,148,149]}return i=t[Math.floor(Math.random()*t.length)],FRF[i-1]}}function yt(n){var i=[],r=[],f,e,t,o;switch(n){case"W":i=["W","B","G"];r=[11,14,16,17,20,22,27,31,64,66,67,72,73,75,76,77,78,81,82,88,89,90,91,130,132,134,136,137,141,143,144,145,146,147,148,149,151,152,153,158,169,172,192];break;case"U":i=["U","R","W"];r=[1,2,3,6,11,12,13,16,17,21,27,29,30,31,36,39,40,41,42,45,52,53,54,56,57,59,96,98,100,105,106,107,110,112,113,115,116,117,125,126];break;case"B":i=["B","G","U"];r=[36,38,39,40,41,42,43,44,46,48,49,50,51,52,53,56,58,63,64,66,70,77,78,79,85,94,128,132,133,134,139,140,143,144,145,147,149,153,156,158,178];break;case"R":i=["R","W","B"];r=[1,2,3,6,12,13,14,18,20,21,22,29,30,67,70,72,73,75,76,77,79,81,82,85,88,89,90,91,94,96,100,101,102,106,107,108,114,118,170,177];break;case"G":i=["G","U","R"];r=[36,38,43,44,45,46,48,49,50,51,54,57,58,59,63,98,101,102,105,108,110,113,114,115,116,117,118,125,126,128,130,133,136,137,139,140,141,146,148,151,152,156]}var h=new u,c=s(),l=c.uncommonCards,a=c.commonCards;for(f=0;f<4;f++)for(e=!1;!e;)t=l[Math.floor(Math.random()*l.length)],o=!0,$.each(t.Color,function(n,t){i.indexOf(t)==-1&&(o=!1)}),o&&r.indexOf(parseInt(t.Number))==-1&&(h.uncommonCards.push(t),e=!0);for(f=0;f<11;f++)for(e=!1;!e;)t=a[Math.floor(Math.random()*a.length)],o=!0,$.each(t.Color,function(n,t){i.indexOf(t)==-1&&(o=!1)}),o&&r.indexOf(parseInt(t.Number))==-1&&(h.commonCards.push(t),e=!0);return h}function pt(n,t,i){var r=new u,f=vt(i),e;return(f.Rarity="R")?r.rareCards=[f]:r.mythicCards=[f],e=yt(i),r.uncommonCards=e.uncommonCards,r.commonCards=e.commonCards,r}function u(){this.mythicCards=[];this.rareCards=[];this.uncommonCards=[];this.commonCards=[]}function wt(){return r.when(a())}function a(){var n=new u;return DTK.forEach(function(t){t.Rarity=="C"?n.commonCards.push(t):t.Rarity=="U"?n.uncommonCards.push(t):t.Rarity=="R"?n.rareCards.push(t):t.Rarity=="M"&&n.mythicCards.push(t)}),n}function bt(){return r.when(v())}function v(){return e(FRF)}function kt(){return r.when(s())}function s(){return e(KTK)}function dt(){return r.when(y())}function y(){return e(M15)}function p(){return e(THS)}function w(){return e(BNG)}function b(){return e(JOU)}function e(n){var t=new u;return n.forEach(function(n){n.Rarity=="C"?t.commonCards.push(n):n.Rarity=="U"?t.uncommonCards.push(n):n.Rarity=="R"?t.rareCards.push(n):n.Rarity=="M"&&t.mythicCards.push(n)}),t}function gt(){return r.when(b())}function ni(){return r.when(p())}function ti(){return r.when(w())}function ii(){return r.when(BNG)}function ri(){return THS}function ui(){return BNG}function fi(){return JOU}function ei(){return M15}var r=n.$q,d={openBoosters:tt,getAllCards:ii,getAllCardsByRarity:ti,getAllFRFCardsByRarity:bt,getAllKTKCardsByRarity:kt,getAllDTKCardsByRarity:wt,getAllM15CardsByRarity:dt,getAllTHSCardsByRarity:ni,getAllJOUCardsByRarity:gt,setDisplayCard:g,getDisplayCard:nt,openSortedBoosters:ut,openMixtureOfSortedBoosters:rt,openMixtureOfSeededBoosters:it,getAllSet1CardsNoDelay:ri,getAllSet2CardsNoDelay:ui,getAllSet3CardsNoDelay:fi,getAllCoreSetCardsNoDelay:ei},c;return d}angular.module("app").factory("datacontext",["common","landcards",n])})();
/*
//# sourceMappingURL=datacontext.min.js.map
*/