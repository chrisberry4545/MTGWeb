(function(){"use strict";function n(n,t){function it(n){a=n}function rt(){return a}function ut(n){return i.when(c(n))}function ft(n,t,u,f,e,o,s,h){var l=v(n,t,u,f,e,o,s),c=y(1,h);return c.rareCards.sort(r),c.uncommonCards.sort(r),c.commonCards.sort(r),c.mythicCards.push.apply(c.mythicCards,l.mythicCards),c.rareCards.push.apply(c.rareCards,l.rareCards),c.uncommonCards.push.apply(c.uncommonCards,l.uncommonCards),c.commonCards.push.apply(c.commonCards,l.commonCards),i.when(c)}function et(n,t,r,u,f,e,o){var s=v(n,t,r,u,f,e,o);return i.when(s)}function v(n,t,i,r,u,e,o){var h=c(t),l,a,v,y,p,w;return f(h),l=ht(n),f(l),a=st(i),f(a),v=ct(r),f(v),y=lt(u),f(y),p=at(e),f(p),w=vt(o),f(w),s(h,l),s(h,a),s(h,v),s(h,y),s(h,p),s(h,w),h}function f(n){n.mythicCards.sort(r);n.rareCards.sort(r);n.uncommonCards.sort(r);n.commonCards.sort(r)}function s(n,t){n.mythicCards.push.apply(n.mythicCards,t.mythicCards);n.rareCards.push.apply(n.rareCards,t.rareCards);n.uncommonCards.push.apply(n.uncommonCards,t.uncommonCards);n.commonCards.push.apply(n.commonCards,t.commonCards)}function ot(n){var t=c(n);return t.mythicCards.sort(r),t.rareCards.sort(r),t.uncommonCards.sort(r),t.commonCards.sort(r),i.when(t)}function r(n,t){return n.Number<t.Number?-1:n.Number>t.Number?1:0}function st(n){var t=g();return e(n,t)}function ht(n){var t=k();return e(n,t)}function ct(n){var t=b();return e(n,t)}function lt(n){var t=w();return e(n,t)}function at(n){for(var r,s,h=p(),i=e(n,h),u=0;u<n;u++)if(Math.random()<1)if(Math.random()<1/22){var f=[229,232,238,247,248],c=Math.round(Math.random()*(f.length-1)),l=KTK[f[c]];i.rareCards.push(l)}else{var o=[228,230,231,234,239,241,242,243,245,246],a=Math.round(Math.random()*(o.length-1)),v=KTK[o[a]];i.commonCards.push(v)}else r=t.getLandCards(),s=Math.round(Math.random()*(r.length-1)),i.commonCards.push(r[s]);return i}function vt(n){var t=l();return e(n,t)}function e(n,t){for(var r,i=new u,f=0;f<n;f++)r=pt(t,i),i.mythicCards.push.apply(i.mythicCards,r.mythicCards),i.rareCards.push.apply(i.rareCards,r.rareCards),i.uncommonCards.push.apply(i.uncommonCards,r.uncommonCards),i.commonCards.push.apply(i.commonCards,r.commonCards);return i}function y(n,t){var i=l();return yt(1,i,t)}function yt(n,t,i){for(var f,r=new u,e=0;e<n;e++)f=kt(t,r,i),r.mythicCards.push.apply(r.mythicCards,f.mythicCards),r.rareCards.push.apply(r.rareCards,f.rareCards),r.uncommonCards.push.apply(r.uncommonCards,f.uncommonCards),r.commonCards.push.apply(r.commonCards,f.commonCards);return r}function c(n){var t=d();return e(n,t)}function pt(n){var r=new u,h=!0,o,s,f,e,i,t;for(Math.random()>1/8&&(h=!1),o=10,s=3,f=0;f<o;f++)i=Math.round(Math.random()*(n.commonCards.length-1)),t=n.commonCards[i],t!=null&&(e=!1,$.each(r.commonCards,function(n,i){i.Number==t.Number&&(e=!0)}),e&&n.commonCards.length>o?f--:r.commonCards.push(t));for(f=0;f<s;f++)i=Math.round(Math.random()*(n.uncommonCards.length-1)),t=n.uncommonCards[i],t!=null&&(e=!1,$.each(r.uncommonCards,function(n,i){i.Number==t.Number&&(e=!0)}),e?s++:r.uncommonCards.push(t));return h?(i=Math.round(Math.random()*(n.mythicCards.length-1)),t=n.mythicCards[i],r.mythicCards.push(t)):(i=Math.round(Math.random()*(n.rareCards.length-1)),t=n.rareCards[i],r.rareCards.push(t)),r}function wt(n){var i=DTK,t,r;if(Math.random()>7/8)switch(n){case"W":return i[216];case"U":return i[218];case"B":return i[219];case"R":return i[217];case"G":return i[215]}else{switch(n){case"W":t=[2,3,19,23,41,175,209,212,221];break;case"U":t=[26,30,47,58,61,80,227,228];break;case"B":t=[70,92,96,120,121,226,232];break;case"R":t=[88,112,141,162,169,214,224];break;case"G":t=[132,181,187,210,213,223]}return r=t[Math.floor(Math.random()*t.length)],i[r-1]}}function bt(n,t){var r=[],f=[],e,o,i,s;switch(n){case"W":r=["W","G"];f=[5,20,21,27,39,172,176,190,192,4,8,11,174,183,188,208];break;case"U":r=["U","W"];f=[10,12,15,35,37,71,76,78,84,6,9,13,14,16,22,24,33,34,40,57,69,74];break;case"B":r=["B","U"];f=[46,75,79,83,87,89,102,53,63,66,67,68,81,82,85,107,115];break;case"R":r=["R","B"];f=[86,108,111,114,129,134,138,149,99,105,113,118,119,122,126,127,128,139,152];break;case"G":r=["G","R"];f=[144,146,155,159,168,184,191,198,199,201,143,145,157,170,171,189,195,200,203]}var h=new u,c=t.uncommonCards,l=t.commonCards;for(e=0;e<3;e++)for(o=!1;!o;)i=c[Math.floor(Math.random()*c.length)],s=!0,$.each(i.Color,function(n,t){r.indexOf(t)==-1&&(s=!1)}),s&&f.indexOf(parseInt(i.Number))==-1&&(h.uncommonCards.push(i),o=!0);for(e=0;e<10;e++)for(o=!1;!o;)i=l[Math.floor(Math.random()*l.length)],s=!0,$.each(i.Color,function(n,t){r.indexOf(t)==-1&&(s=!1)}),s&&f.indexOf(parseInt(i.Number))==-1&&(h.commonCards.push(i),o=!0);return h}function kt(n,t,i){var r=new u,f=wt(i),e;return(f.Rarity="R")?r.rareCards=[f]:r.mythicCards=[f],e=bt(i,n),r.uncommonCards=e.uncommonCards,r.commonCards=e.commonCards,r}function u(){this.mythicCards=[];this.rareCards=[];this.uncommonCards=[];this.commonCards=[]}function dt(){return i.when(l())}function l(){return o(DTK)}function gt(){return i.when(p())}function p(){return o(FRF)}function ni(){return i.when(w())}function w(){return o(KTK)}function ti(){return i.when(b())}function b(){return o(M15)}function k(){return o(THS)}function d(){return o(BNG)}function g(){return o(JOU)}function o(n){var t=new u;return n.forEach(function(n){n.Rarity=="C"?t.commonCards.push(n):n.Rarity=="U"?t.uncommonCards.push(n):n.Rarity=="R"?t.rareCards.push(n):n.Rarity=="M"&&t.mythicCards.push(n)}),t}function ii(){return i.when(g())}function ri(){return i.when(k())}function ui(){return i.when(d())}function fi(){return i.when(BNG)}function ei(){return THS}function oi(){return BNG}function si(){return JOU}function hi(){return M15}var i=n.$q,tt={openBoosters:ut,getAllCards:fi,getAllCardsByRarity:ui,getAllFRFCardsByRarity:gt,getAllKTKCardsByRarity:ni,getAllDTKCardsByRarity:dt,getAllM15CardsByRarity:ti,getAllTHSCardsByRarity:ri,getAllJOUCardsByRarity:ii,setDisplayCard:it,getDisplayCard:rt,openXCardBoostersForLatestSet:y,openSortedBoosters:ot,openMixtureOfSortedBoosters:et,openMixtureOfSeededBoosters:ft,getAllSet1CardsNoDelay:ei,getAllSet2CardsNoDelay:oi,getAllSet3CardsNoDelay:si,getAllCoreSetCardsNoDelay:hi},a;return tt}angular.module("app").factory("datacontext",["common","landcards",n])})();
//# sourceMappingURL=datacontext.min.js.map
