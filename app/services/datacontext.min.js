(function(){"use strict";function n(n){function w(n){s=n}function b(){return s}function k(n){return r.when(o(n))}function d(n,i,u,f,o,s){var l=h(n,i,u,f,o-1),a=e(),c=ft(1,a,s);return c.rareCards.sort(t),c.uncommonCards.sort(t),c.commonCards.sort(t),c.mythicCards.push.apply(c.mythicCards,l.mythicCards),c.rareCards.push.apply(c.rareCards,l.rareCards),c.uncommonCards.push.apply(c.uncommonCards,l.uncommonCards),c.commonCards.push.apply(c.commonCards,l.commonCards),r.when(c)}function g(n,t,i,u,f){var e=h(n,t,i,u,f);return r.when(e)}function h(n,i,r,u,f){var e=o(i),s,h,c,l;return e.mythicCards.sort(t),e.rareCards.sort(t),e.uncommonCards.sort(t),e.commonCards.sort(t),s=it(n),s.mythicCards.sort(t),s.rareCards.sort(t),s.uncommonCards.sort(t),s.commonCards.sort(t),h=tt(r),h.mythicCards.sort(t),h.rareCards.sort(t),h.uncommonCards.sort(t),h.commonCards.sort(t),c=rt(u),c.mythicCards.sort(t),c.rareCards.sort(t),c.uncommonCards.sort(t),c.commonCards.sort(t),l=ut(f),l.mythicCards.sort(t),l.rareCards.sort(t),l.uncommonCards.sort(t),l.commonCards.sort(t),e.mythicCards.push.apply(e.mythicCards,s.mythicCards),e.rareCards.push.apply(e.rareCards,s.rareCards),e.uncommonCards.push.apply(e.uncommonCards,s.uncommonCards),e.commonCards.push.apply(e.commonCards,s.commonCards),e.mythicCards.push.apply(e.mythicCards,h.mythicCards),e.rareCards.push.apply(e.rareCards,h.rareCards),e.uncommonCards.push.apply(e.uncommonCards,h.uncommonCards),e.commonCards.push.apply(e.commonCards,h.commonCards),e.mythicCards.push.apply(e.mythicCards,c.mythicCards),e.rareCards.push.apply(e.rareCards,c.rareCards),e.uncommonCards.push.apply(e.uncommonCards,c.uncommonCards),e.commonCards.push.apply(e.commonCards,c.commonCards),e.mythicCards.push.apply(e.mythicCards,l.mythicCards),e.rareCards.push.apply(e.rareCards,l.rareCards),e.uncommonCards.push.apply(e.uncommonCards,l.uncommonCards),e.commonCards.push.apply(e.commonCards,l.commonCards),e}function nt(n){var i=o(n);return i.mythicCards.sort(t),i.rareCards.sort(t),i.uncommonCards.sort(t),i.commonCards.sort(t),r.when(i)}function t(n,t){return n.Number<t.Number?-1:n.Number>t.Number?1:0}function tt(n){var t=v();return u(n,t)}function it(n){var t=l();return u(n,t)}function rt(n){var t=c();return u(n,t)}function ut(n){var t=e();return u(n,t)}function u(n,t){for(var u,r=new i,f=0;f<n;f++)u=et(t,r),r.mythicCards.push.apply(r.mythicCards,u.mythicCards),r.rareCards.push.apply(r.rareCards,u.rareCards),r.uncommonCards.push.apply(r.uncommonCards,u.uncommonCards),r.commonCards.push.apply(r.commonCards,u.commonCards);return r}function ft(n,t,r){for(var f,u=new i,e=0;e<n;e++)f=ht(t,u,r),u.mythicCards.push.apply(u.mythicCards,f.mythicCards),u.rareCards.push.apply(u.rareCards,f.rareCards),u.uncommonCards.push.apply(u.uncommonCards,f.uncommonCards),u.commonCards.push.apply(u.commonCards,f.commonCards);return u}function o(n){var t=a();return u(n,t)}function et(n){var r=new i,h=!0,o,s,u,f,t;for(Math.random()>1/8&&(h=!1),o=10,s=3,u=0;u<o;u++){var f=Math.round(Math.random()*(n.commonCards.length-1)),t=n.commonCards[f],e=!1;$.each(r.commonCards,function(n,i){i.Number==t.Number&&(e=!0)});e&&n.commonCards.length>o?u--:r.commonCards.push(t)}for(u=0;u<s;u++){var f=Math.round(Math.random()*(n.uncommonCards.length-1)),t=n.uncommonCards[f],e=!1;$.each(r.uncommonCards,function(n,i){i.Number==t.Number&&(e=!0)});e?s++:r.uncommonCards.push(t)}return h?(f=Math.round(Math.random()*(n.mythicCards.length-1)),t=n.mythicCards[f],r.mythicCards.push(t)):(f=Math.round(Math.random()*(n.rareCards.length-1)),t=n.rareCards[f],r.rareCards.push(t)),r}function ot(n){var t,i;if(Math.random()>7/8)switch(n){case"W":return KTK[162];case"U":return KTK[189];case"B":return KTK[198];case"R":return KTK[213];case"G":return KTK[205]}else{switch(n){case"W":t=[160,12,174,200,179,13,85,133];break;case"U":t=[195,184,180,176,18,58,108];break;case"B":t=[211,203,193,192,182,36,73,82,141,45];break;case"R":t=[185,171,168,164,66,112,113];break;case"G":t=[209,207,197,166,42,106,144]}return i=t[Math.floor(Math.random()*t.length)],KTK[i-1]}}function st(n){var r=[],u=[],f,o,t,s;switch(n){case"W":r=["W","B","G"];u=[11,14,16,17,20,22,27,31,64,66,67,72,73,75,76,77,78,81,82,88,89,90,91,130,132,134,136,137,141,143,144,145,146,147,148,149,151,152,153,158,169,172,192];break;case"U":r=["U","R","W"];u=[1,2,3,6,11,12,13,16,17,21,27,29,30,31,36,39,40,41,42,45,52,53,54,56,57,59,96,98,100,105,106,107,110,112,113,115,116,117,125,126];break;case"B":r=["B","G","U"];u=[36,38,39,40,41,42,43,44,46,48,49,50,51,52,53,56,58,63,64,66,70,77,78,79,85,94,128,132,133,134,139,140,143,144,145,147,149,153,156,158,178];break;case"R":r=["R","W","B"];u=[1,2,3,6,12,13,14,18,20,21,22,29,30,67,70,72,73,75,76,77,79,81,82,85,88,89,90,91,94,96,100,101,102,106,107,108,114,118,170,177];break;case"G":r=["G","U","R"];u=[36,38,43,44,45,46,48,49,50,51,54,57,58,59,63,98,101,102,105,108,110,113,114,115,116,117,118,125,126,128,130,133,136,137,139,140,141,146,148,151,152,156]}var h=new i,c=e(),l=c.uncommonCards,a=c.commonCards;for(f=0;f<4;f++)for(o=!1;!o;)t=l[Math.floor(Math.random()*l.length)],s=!0,$.each(t.Color,function(n,t){r.indexOf(t)==-1&&(s=!1)}),s&&u.indexOf(parseInt(t.Number))==-1&&(h.uncommonCards.push(t),o=!0);for(f=0;f<11;f++)for(o=!1;!o;)t=a[Math.floor(Math.random()*a.length)],s=!0,$.each(t.Color,function(n,t){r.indexOf(t)==-1&&(s=!1)}),s&&u.indexOf(parseInt(t.Number))==-1&&(h.commonCards.push(t),o=!0);return h}function ht(n,t,r){var u=new i,f=ot(r),e;return(f.Rarity="R")?u.rareCards=[f]:u.mythicCards=[f],e=st(r),u.uncommonCards=e.uncommonCards,u.commonCards=e.commonCards,u}function i(){this.mythicCards=[];this.rareCards=[];this.uncommonCards=[];this.commonCards=[]}function ct(){return r.when(e())}function e(){var n=new i;return KTK.forEach(function(t){t.Rarity=="C"?n.commonCards.push(t):t.Rarity=="U"?n.uncommonCards.push(t):t.Rarity=="R"?n.rareCards.push(t):t.Rarity=="M"&&n.mythicCards.push(t)}),n}function lt(){return r.when(c())}function c(){var n=new i;return M15.forEach(function(t){t.Rarity=="C"?n.commonCards.push(t):t.Rarity=="U"?n.uncommonCards.push(t):t.Rarity=="R"?n.rareCards.push(t):t.Rarity=="M"&&n.mythicCards.push(t)}),n}function l(){var n=new i;return THS.forEach(function(t){t.Rarity=="C"?n.commonCards.push(t):t.Rarity=="U"?n.uncommonCards.push(t):t.Rarity=="R"?n.rareCards.push(t):t.Rarity=="M"&&n.mythicCards.push(t)}),n}function a(){var n=new i;return BNG.forEach(function(t){t.Rarity=="C"?n.commonCards.push(t):t.Rarity=="U"?n.uncommonCards.push(t):t.Rarity=="R"?n.rareCards.push(t):t.Rarity=="M"&&n.mythicCards.push(t)}),n}function v(){var n=new i;return JOU.forEach(function(t){t.Rarity=="C"?n.commonCards.push(t):t.Rarity=="U"?n.uncommonCards.push(t):t.Rarity=="R"?n.rareCards.push(t):t.Rarity=="M"&&n.mythicCards.push(t)}),n}function at(){return r.when(v())}function vt(){return r.when(l())}function yt(){return r.when(a())}function pt(){return r.when(BNG)}function wt(){return THS}function bt(){return BNG}function kt(){return JOU}function dt(){return M15}var r=n.$q,p={openBoosters:k,getAllCards:pt,getAllCardsByRarity:yt,getAllKTKCardsByRarity:ct,getAllM15CardsByRarity:lt,getAllTHSCardsByRarity:vt,getAllJOUCardsByRarity:at,setDisplayCard:w,getDisplayCard:b,openSortedBoosters:nt,openMixtureOfSortedBoosters:g,openMixtureOfSeededBoosters:d,getAllSet1CardsNoDelay:wt,getAllSet2CardsNoDelay:bt,getAllSet3CardsNoDelay:kt,getAllCoreSetCardsNoDelay:dt},s;return p}angular.module("app").factory("datacontext",["common",n])})();
/*
//# sourceMappingURL=datacontext.min.js.map
*/