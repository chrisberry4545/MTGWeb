(function(){"use strict";function n(n){function d(n){h=n}function g(){return h}function nt(n){return i.when(s(n))}function tt(n,r,u,f,e,s,h,l){var v=c(n,r,u,f,e-1,s,h),y=o(),a=ct(1,y,l);return a.rareCards.sort(t),a.uncommonCards.sort(t),a.commonCards.sort(t),a.mythicCards.push.apply(a.mythicCards,v.mythicCards),a.rareCards.push.apply(a.rareCards,v.rareCards),a.uncommonCards.push.apply(a.uncommonCards,v.uncommonCards),a.commonCards.push.apply(a.commonCards,v.commonCards),i.when(a)}function it(n,t,r,u,f,e,o){var s=c(n,t,r,u,f,e,o);return i.when(s)}function c(n,i,r,u,f,e,o){var h=s(i),c,l,a,v,y,p;return h.mythicCards.sort(t),h.rareCards.sort(t),h.uncommonCards.sort(t),h.commonCards.sort(t),c=ft(n),c.mythicCards.sort(t),c.rareCards.sort(t),c.uncommonCards.sort(t),c.commonCards.sort(t),l=ut(r),l.mythicCards.sort(t),l.rareCards.sort(t),l.uncommonCards.sort(t),l.commonCards.sort(t),a=et(u),a.mythicCards.sort(t),a.rareCards.sort(t),a.uncommonCards.sort(t),a.commonCards.sort(t),v=ot(f),v.mythicCards.sort(t),v.rareCards.sort(t),v.uncommonCards.sort(t),v.commonCards.sort(t),y=st(e),y.mythicCards.sort(t),y.rareCards.sort(t),y.uncommonCards.sort(t),y.commonCards.sort(t),p=ht(o),p.mythicCards.sort(t),p.rareCards.sort(t),p.uncommonCards.sort(t),p.commonCards.sort(t),h.mythicCards.push.apply(h.mythicCards,c.mythicCards),h.rareCards.push.apply(h.rareCards,c.rareCards),h.uncommonCards.push.apply(h.uncommonCards,c.uncommonCards),h.commonCards.push.apply(h.commonCards,c.commonCards),h.mythicCards.push.apply(h.mythicCards,l.mythicCards),h.rareCards.push.apply(h.rareCards,l.rareCards),h.uncommonCards.push.apply(h.uncommonCards,l.uncommonCards),h.commonCards.push.apply(h.commonCards,l.commonCards),h.mythicCards.push.apply(h.mythicCards,a.mythicCards),h.rareCards.push.apply(h.rareCards,a.rareCards),h.uncommonCards.push.apply(h.uncommonCards,a.uncommonCards),h.commonCards.push.apply(h.commonCards,a.commonCards),h.mythicCards.push.apply(h.mythicCards,v.mythicCards),h.rareCards.push.apply(h.rareCards,v.rareCards),h.uncommonCards.push.apply(h.uncommonCards,v.uncommonCards),h.commonCards.push.apply(h.commonCards,v.commonCards),h.mythicCards.push.apply(h.mythicCards,y.mythicCards),h.rareCards.push.apply(h.rareCards,y.rareCards),h.uncommonCards.push.apply(h.uncommonCards,y.uncommonCards),h.commonCards.push.apply(h.commonCards,y.commonCards),h}function rt(n){var r=s(n);return r.mythicCards.sort(t),r.rareCards.sort(t),r.uncommonCards.sort(t),r.commonCards.sort(t),i.when(r)}function t(n,t){return n.Number<t.Number?-1:n.Number>t.Number?1:0}function ut(n){var t=w();return u(n,t)}function ft(n){var t=y();return u(n,t)}function et(n){var t=v();return u(n,t)}function ot(n){var t=o();return u(n,t)}function st(n){var t=a();return u(n,t)}function ht(n){var t=l();return u(n,t)}function u(n,t){for(var u,i=new r,f=0;f<n;f++)u=lt(t,i),i.mythicCards.push.apply(i.mythicCards,u.mythicCards),i.rareCards.push.apply(i.rareCards,u.rareCards),i.uncommonCards.push.apply(i.uncommonCards,u.uncommonCards),i.commonCards.push.apply(i.commonCards,u.commonCards);return i}function ct(n,t,i){for(var f,u=new r,e=0;e<n;e++)f=yt(t,u,i),u.mythicCards.push.apply(u.mythicCards,f.mythicCards),u.rareCards.push.apply(u.rareCards,f.rareCards),u.uncommonCards.push.apply(u.uncommonCards,f.uncommonCards),u.commonCards.push.apply(u.commonCards,f.commonCards);return u}function s(n){var t=p();return u(n,t)}function lt(n){var u=new r,h=!0,o,s,f,e,i,t;for(Math.random()>1/8&&(h=!1),o=10,s=3,f=0;f<o;f++)i=Math.round(Math.random()*(n.commonCards.length-1)),t=n.commonCards[i],t!=null&&(e=!1,$.each(u.commonCards,function(n,i){i.Number==t.Number&&(e=!0)}),e&&n.commonCards.length>o?f--:u.commonCards.push(t));for(f=0;f<s;f++)i=Math.round(Math.random()*(n.uncommonCards.length-1)),t=n.uncommonCards[i],t!=null&&(e=!1,$.each(u.uncommonCards,function(n,i){i.Number==t.Number&&(e=!0)}),e?s++:u.uncommonCards.push(t));return h?(i=Math.round(Math.random()*(n.mythicCards.length-1)),t=n.mythicCards[i],u.mythicCards.push(t)):(i=Math.round(Math.random()*(n.rareCards.length-1)),t=n.rareCards[i],u.rareCards.push(t)),u}function at(n){var t,i;if(Math.random()>7/8)switch(n){case"W":return KTK[162];case"U":return KTK[189];case"B":return KTK[198];case"R":return KTK[213];case"G":return KTK[205]}else{switch(n){case"W":t=[160,12,174,200,179,13,85,133];break;case"U":t=[195,184,180,176,18,58,108];break;case"B":t=[211,203,193,192,182,36,73,82,141,45];break;case"R":t=[185,171,168,164,66,112,113];break;case"G":t=[209,207,197,166,42,106,144]}return i=t[Math.floor(Math.random()*t.length)],KTK[i-1]}}function vt(n){var i=[],u=[],f,e,t,s;switch(n){case"W":i=["W","B","G"];u=[11,14,16,17,20,22,27,31,64,66,67,72,73,75,76,77,78,81,82,88,89,90,91,130,132,134,136,137,141,143,144,145,146,147,148,149,151,152,153,158,169,172,192];break;case"U":i=["U","R","W"];u=[1,2,3,6,11,12,13,16,17,21,27,29,30,31,36,39,40,41,42,45,52,53,54,56,57,59,96,98,100,105,106,107,110,112,113,115,116,117,125,126];break;case"B":i=["B","G","U"];u=[36,38,39,40,41,42,43,44,46,48,49,50,51,52,53,56,58,63,64,66,70,77,78,79,85,94,128,132,133,134,139,140,143,144,145,147,149,153,156,158,178];break;case"R":i=["R","W","B"];u=[1,2,3,6,12,13,14,18,20,21,22,29,30,67,70,72,73,75,76,77,79,81,82,85,88,89,90,91,94,96,100,101,102,106,107,108,114,118,170,177];break;case"G":i=["G","U","R"];u=[36,38,43,44,45,46,48,49,50,51,54,57,58,59,63,98,101,102,105,108,110,113,114,115,116,117,118,125,126,128,130,133,136,137,139,140,141,146,148,151,152,156]}var h=new r,c=o(),l=c.uncommonCards,a=c.commonCards;for(f=0;f<4;f++)for(e=!1;!e;)t=l[Math.floor(Math.random()*l.length)],s=!0,$.each(t.Color,function(n,t){i.indexOf(t)==-1&&(s=!1)}),s&&u.indexOf(parseInt(t.Number))==-1&&(h.uncommonCards.push(t),e=!0);for(f=0;f<11;f++)for(e=!1;!e;)t=a[Math.floor(Math.random()*a.length)],s=!0,$.each(t.Color,function(n,t){i.indexOf(t)==-1&&(s=!1)}),s&&u.indexOf(parseInt(t.Number))==-1&&(h.commonCards.push(t),e=!0);return h}function yt(n,t,i){var u=new r,f=at(i),e;return(f.Rarity="R")?u.rareCards=[f]:u.mythicCards=[f],e=vt(i),u.uncommonCards=e.uncommonCards,u.commonCards=e.commonCards,u}function r(){this.mythicCards=[];this.rareCards=[];this.uncommonCards=[];this.commonCards=[]}function pt(){return i.when(l())}function l(){var n=new r;return DTK.forEach(function(t){t.Rarity=="C"?n.commonCards.push(t):t.Rarity=="U"?n.uncommonCards.push(t):t.Rarity=="R"?n.rareCards.push(t):t.Rarity=="M"&&n.mythicCards.push(t)}),n}function wt(){return i.when(a())}function a(){return f(FRF)}function bt(){return i.when(o())}function o(){return f(KTK)}function kt(){return i.when(v())}function v(){return f(M15)}function y(){return f(THS)}function p(){return f(BNG)}function w(){return f(JOU)}function f(n){var t=new r;return n.forEach(function(n){n.Rarity=="C"?t.commonCards.push(n):n.Rarity=="U"?t.uncommonCards.push(n):n.Rarity=="R"?t.rareCards.push(n):n.Rarity=="M"&&t.mythicCards.push(n)}),t}function dt(){return i.when(w())}function gt(){return i.when(y())}function ni(){return i.when(p())}function ti(){return i.when(BNG)}function ii(){return THS}function ri(){return BNG}function ui(){return JOU}function fi(){return M15}var i=n.$q,k={openBoosters:nt,getAllCards:ti,getAllCardsByRarity:ni,getAllFRFCardsByRarity:wt,getAllKTKCardsByRarity:bt,getAllDTKCardsByRarity:pt,getAllM15CardsByRarity:kt,getAllTHSCardsByRarity:gt,getAllJOUCardsByRarity:dt,setDisplayCard:d,getDisplayCard:g,openSortedBoosters:rt,openMixtureOfSortedBoosters:it,openMixtureOfSeededBoosters:tt,getAllSet1CardsNoDelay:ii,getAllSet2CardsNoDelay:ri,getAllSet3CardsNoDelay:ui,getAllCoreSetCardsNoDelay:fi},h;return k}angular.module("app").factory("datacontext",["common",n])})();
/*
//# sourceMappingURL=datacontext.min.js.map
*/